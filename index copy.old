
Citizen first, technology last
==============================

In the blockchain space, many people and many projects put the technology first and then the citizen, trying to hack privacy and data protection into a system that was not designed with those requirements from the beginning.

Surprisingly, this also applies to many implementations and initiatives in the Self-Sovereign Identity (SSI) space, where many initiatives insist on registering and recording the identities of citizens in a globally shared infrastructure, even though it is not really required or desirable for many important use cases.

Even though they claim that they use cryptographic techniques (from hashes to Zero-Knowledge Proofs) to achieve privacy, many claim so without a proper PIA (Privacy Impact Assessment) of the actual implementation in a concrete system. And most importantly, they assume that registering the identities of citizens is required, without a proper justification, violating the principle of minimisation and proportionality.

To make things worst, due to the COVID-19 pandemia there has been a proliferation of initiatives and projects advocating the use of Verifiable Credentials and blockchain technologies, but lacking the principle of "citizen first, technology last". Those initiatives tend to be the most publicised, creating a generalised distrust on blockchain for use cases where strong privacy and citizen protection is critical.

However, the recent Guidelines from the eHealth Network, especially the document on interoperability of the Trust Framework (`Interoperability of health certificates Trust framework`_) have made clear the requirements and characteristics that such solutions must comply with, striking the right balance between citizen and public health.

.. _`Interoperability of health certificates Trust framework`: https://ec.europa.eu/health/sites/health/files/ehealth/docs/trust-framework_interoperability_certificates_en.pdf

Even though the documents assume centralised technology for implementation,

- they provide leeway in some areas where proper use of blockchain technology and Verifiable Credentials could add value, complementing and enhancing the solution delineated in the Guidelines while maintaining the principles of **strong privacy and data protection**, **cross-border interoperability**, **inclusiveness** and **simplicity and user-friendliness**.
- the Guidelines can be generalised to be used for the correct implementation of many different use cases in many industries (not limited to Covid-19 certificates), ensuring that the same principles mentioned above are implemented.


The EU GDPR sets out `detailed requirements`_ for companies and organisations on collecting, storing and managing personal data. It applies both to European organisations that process personal data of individuals in the EU, and to organisations outside the EU that target people living in the EU.

.. _`detailed requirements`: https://europa.eu/youreurope/business/dealing-with-customers/data-protection/data-protection-gdpr/

The GDPR applies strict rules for processing data based on **consent**. The purpose of these rules is to ensure that the individual **understands what he or she is consenting to**.

The interaction between an organisation and a citizen regarding consent could be summarised as:

1. **Privacy notice**: the citizen receives a `request`_ from the organisation, in a concise, transparent, intelligible, and easily accessible form and written in clear and plain language.

2. **Explicit consent**: consent should be freely given, specific, informed and unambiguous. Consent should be given by an affirmative act, such as checking a box online or signing a form (:cite:t:`edpbGuidelines0520202020`).

3. **Keeping a record**: the organisation must be able to prove that it acts in accordance with the GDPR and fulfils all applicable obligations — particularly upon request or inspection from the Data Protection Authority.


.. _`request`: https://gdpr.eu/privacy-notice/

However, there is no standard or specification for an interoperable **consent record, or a digital receipt of consent** that the citizen can keep. As a result, neither individuals nor organisations can easily track their consents or know who to hold accountable in the event of a violation of their consent. And this is even more difficult when in th escenario there are two organisations acting as *joint controllers* (:cite:t:`edpbGuidelines0720202020`).

A record of a consent enhances the ability to maintain and manage permissions for personal data by both the individual and the organization. Much like a retailer giving a customer a cash register receipt as a record of a purchase transaction, an organization should similarly create a record of a consent interaction and give it to the individual, defined here as a Consent Receipt. The creation and implementation of this standardized format will promote consistent consent practices, support consent management interoperability between systems, and enable proof of consent.

This document describes an implementation of Consent Receipt using Self-Sovereign Identity (SSI), using W3C Verifiable Credentials for representation and a Blockchain to help in verification.

The data model is based on the work being currently performed to elaborate the future ISO/IEC 27560 (it is still elaborating the first draft). In addition, there have been in the past several efforts to standardise the data involved in a consent transaction, most notably the one by the `Advanced Notice & Consent Receipt Work Group <https://kantarainitiative.org/groups/advanced-notice-consent-receipt-work-group/>`_ from the `Kantara Initiative <https://kantarainitiative.org/>`_. Their work was an important input for the current ISO/IEC 29184:2020 *Information technology — Online privacy notices and consent*.

The current standards were developed before the European GDPR was enforced, and the proposal in this document is based on several efforts to adapt the current specs to the GDPR.

In addition, this document proposes an adaptation of those models to the new world of SSI, by mapping and extending slightly the existing data models to fit the W3C Verifiable Credential Data Model.

The focus in this document is not in the detailed consent records that Data Controllers or Data Processors have to keep in their systems (e.g, for auditing purposes by a regulator). Instead, the focus is on the Consent Receipts that the Citizen should receive from the entities managing her data. In some sense, such Consent Receipts are a subset of the full Consent Records that are stored in the processing systems of the entities.


**PrivacyConsent**

The first part describes :doc:`PrivacyConsent <ssi/privacyconsent>`, a system that allows
a citizen to manage informed consent to two independent entities to exchange personal data
among them for a very specific purpose, like managing the informed consent of a user in
the collective of people at risk of exclusion, when two or more entities are involved in
the secure and legal exchange of sensitive personal data, to collaborate to provide a
better service to the citizen.

PrivacyConsent is based on PrivacyCred, a generic credential system which is designed to
be secure, privacy-preserving, scalable, performant and robust.

**PrivacyCred**

The secod part describes the :doc:`PrivacyCred <ssi/privacycred>` system, including the
data model, interfaces and main interactions. Understanding the caharacteristics of the
underlying system is important to understand how PrivacyConsent works.

PrivacyCred is designed specifically for some important use cases where especially
sensitive personal data is handled. A high degree of privacy and unlinkability is the
first design criteria. It also supports scenarios where physical, on-person verification
of identity of holder is needed and where normal W3C Verifiable Credential flows are not
fully suitable as they are normally designed currently.


.. toctree::
   :numbered:
   :hidden:
   :maxdepth: 2
   :caption: Contents

   ssi/privacyconsent
   ssi/privacycred
   ssi/didmethods
   ssi/references




